{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar TimerModel_1 = require(\"../../lib/models/TimerModel\");\n\nvar TimerContext = react_1.default.createContext({\n  ms: 0,\n  s: 0,\n  m: 0,\n  h: 0,\n  d: 0,\n  formatValue: function (value) {\n    return String(value);\n  }\n});\n\nvar TimerValue = function (_a) {\n  var unit = _a.unit,\n      formatValue = _a.formatValue;\n  return react_1.default.createElement(Timer.Consumer, null, function (props) {\n    var format = formatValue || props.formatValue;\n    return format(props[unit]) || null;\n  });\n};\n\nvar Milliseconds = function (props) {\n  return react_1.default.createElement(TimerValue, __assign({\n    unit: \"ms\"\n  }, props));\n};\n\nvar Seconds = function (props) {\n  return react_1.default.createElement(TimerValue, __assign({\n    unit: \"s\"\n  }, props));\n};\n\nvar Minutes = function (props) {\n  return react_1.default.createElement(TimerValue, __assign({\n    unit: \"m\"\n  }, props));\n};\n\nvar Hours = function (props) {\n  return react_1.default.createElement(TimerValue, __assign({\n    unit: \"h\"\n  }, props));\n};\n\nvar Days = function (props) {\n  return react_1.default.createElement(TimerValue, __assign({\n    unit: \"d\"\n  }, props));\n};\n\nvar Timer =\n/** @class */\nfunction (_super) {\n  __extends(Timer, _super);\n\n  function Timer(props) {\n    var _this = _super.call(this, props) || this;\n\n    var _a = _this.props,\n        initialTime = _a.initialTime,\n        direction = _a.direction,\n        timeToUpdate = _a.timeToUpdate,\n        lastUnit = _a.lastUnit,\n        checkpoints = _a.checkpoints;\n    _this.timer = new TimerModel_1.TimerModel({\n      initialTime: initialTime,\n      direction: direction,\n      timeToUpdate: timeToUpdate,\n      lastUnit: lastUnit,\n      checkpoints: checkpoints,\n      onChange: _this.setState.bind(_this)\n    });\n    _this.state = __assign({}, _this.timer.timeParts, {\n      timerState: 'INITED'\n    });\n    _this.start = _this.start.bind(_this);\n    _this.pause = _this.pause.bind(_this);\n    _this.resume = _this.resume.bind(_this);\n    _this.stop = _this.stop.bind(_this);\n    _this.reset = _this.reset.bind(_this);\n    _this.setTime = _this.setTime.bind(_this);\n    _this.getTime = _this.getTime.bind(_this);\n    _this.getTimerState = _this.getTimerState.bind(_this);\n    _this.setDirection = _this.setDirection.bind(_this);\n    _this.setCheckpoints = _this.setCheckpoints.bind(_this);\n    return _this;\n  }\n\n  Timer.getUI = function (children, renderProps) {\n    if (children === null) {\n      return null;\n    }\n\n    if (Array.isArray(children) || react_1.default.isValidElement(children)) {\n      return children;\n    }\n\n    if (children.prototype && children.prototype.isReactComponent) {\n      return react_1.default.createElement(children, renderProps);\n    }\n\n    if (typeof children === 'function') {\n      return children(renderProps);\n    }\n\n    throw new Error('Please use one of the supported APIs for children');\n  };\n\n  Timer.prototype.componentDidMount = function () {\n    var startImmediately = this.props.startImmediately;\n    startImmediately && this.timer.start();\n  };\n\n  Timer.prototype.componentWillUnmount = function () {\n    this.timer.stop();\n  };\n\n  Timer.prototype.render = function () {\n    var _a = this,\n        start = _a.start,\n        pause = _a.pause,\n        resume = _a.resume,\n        stop = _a.stop,\n        reset = _a.reset,\n        getTime = _a.getTime,\n        getTimerState = _a.getTimerState,\n        setTime = _a.setTime,\n        setDirection = _a.setDirection,\n        setCheckpoints = _a.setCheckpoints;\n\n    var _b = this.state,\n        ms = _b.ms,\n        s = _b.s,\n        m = _b.m,\n        h = _b.h,\n        d = _b.d,\n        timerState = _b.timerState;\n    var _c = this.props,\n        formatValue = _c.formatValue,\n        children = _c.children;\n    return react_1.default.createElement(TimerContext.Provider, {\n      value: {\n        ms: ms,\n        s: s,\n        m: m,\n        h: h,\n        d: d,\n        formatValue: formatValue\n      }\n    }, Timer.getUI(children, {\n      start: start,\n      resume: resume,\n      pause: pause,\n      stop: stop,\n      reset: reset,\n      getTime: getTime,\n      getTimerState: getTimerState,\n      setTime: setTime,\n      setDirection: setDirection,\n      setCheckpoints: setCheckpoints,\n      timerState: timerState\n    }));\n  };\n\n  Timer.prototype.setTime = function (time) {\n    this.timer.setTime(time);\n  };\n\n  Timer.prototype.getTime = function () {\n    return this.timer.getTime();\n  };\n\n  Timer.prototype.getTimerState = function () {\n    return this.timer.state;\n  };\n\n  Timer.prototype.setDirection = function (direction) {\n    this.timer.setDirection(direction);\n  };\n\n  Timer.prototype.setCheckpoints = function (checkpoints) {\n    this.timer.setCheckpoints(checkpoints);\n  };\n\n  Timer.prototype.start = function () {\n    this.timer.start();\n    this.props.onStart();\n  };\n\n  Timer.prototype.stop = function () {\n    this.timer.stop();\n    this.props.onStop();\n  };\n\n  Timer.prototype.pause = function () {\n    this.timer.pause();\n    this.props.onPause();\n  };\n\n  Timer.prototype.reset = function () {\n    this.timer.reset();\n    this.props.onReset();\n  };\n\n  Timer.prototype.resume = function () {\n    this.timer.resume();\n    this.props.onResume();\n  };\n\n  Timer.Consumer = TimerContext.Consumer;\n  Timer.Milliseconds = Milliseconds;\n  Timer.Seconds = Seconds;\n  Timer.Minutes = Minutes;\n  Timer.Hours = Hours;\n  Timer.Days = Days;\n  Timer.defaultProps = {\n    timeToUpdate: 1000,\n    direction: 'forward',\n    initialTime: 0,\n    startImmediately: true,\n    lastUnit: 'd',\n    checkpoints: [],\n    children: null,\n    formatValue: function (value) {\n      return String(value);\n    },\n    onStart: function () {},\n    onResume: function () {},\n    onPause: function () {},\n    onStop: function () {},\n    onReset: function () {}\n  };\n  return Timer;\n}(react_1.default.PureComponent);\n\nexports.default = Timer;","map":{"version":3,"mappings":"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","names":["TimerContext","react_1","createContext","ms","s","m","h","d","formatValue","value","TimerValue","_a","unit","Timer","Consumer","props","format","Milliseconds","__assign","Seconds","Minutes","Hours","Days","__extends","_super","initialTime","direction","timeToUpdate","lastUnit","checkpoints","_this","timer","TimerModel_1","onChange","setState","bind","state","timeParts","timerState","start","pause","resume","stop","reset","setTime","getTime","getTimerState","setDirection","setCheckpoints","children","renderProps","Array","isArray","isValidElement","prototype","isReactComponent","createElement","Error","startImmediately","Provider","getUI","time","onStart","onStop","onPause","onReset","onResume","PureComponent","exports"],"sourceRoot":"","sources":["../../../src/components/Timer/Timer.tsx"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}