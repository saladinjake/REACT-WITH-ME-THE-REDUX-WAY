{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Obiajulu\\\\Desktop\\\\GAB\\\\REACT-WITH-ME\\\\enrollments\\\\src\\\\enterprise-app\\\\core\\\\views\\\\pages\\\\guests\\\\courses\\\\CourseGrid.js\";\nimport React, { useEffect, useState, Fragment } from \"react\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport HeaderTwo from \"../../../components/Header\";\nimport { PageTitle } from \"../../../components/common/PageTitle\";\nimport CourseSidebar from \"./components/CourseSidebar\";\nimport CourseItemGrid from \"./components/CourseItemsGrid\";\nimport FooterTwo from \"../../../components/Footer\";\nimport { Styles } from \"./styles/course.js\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { fetchCourses } from \"../../../../redux/actions/coursesActions\";\nimport Loader from \"../../../components/Loader/Loader\";\nimport { useQuery } from \"../../../../helpers/hooks/useQuery.js\";\n/*\r\n*@companyName: EMS\r\n*@Location : Lagos Nigeria\r\n*@Author/Developer : juwa victor/saladinjake\r\n*@AuthorsEmail : juwavictor@gmail.com\r\n*@description: course display in grids\r\n\r\n*/\n\nconst CourseGrid = _ref => {\n  let {\n    course: {\n      courses,\n      courseLoading\n    },\n    fetchCourses,\n    match\n  } = _ref;\n  const [search, setSearch] = useState(\"\");\n  const [filterAllCourses, setFilterAllCourses] = useState([]);\n  const [queryVal, setQueryVal] = useState(\"\");\n  const query = useQuery();\n  useEffect(() => {\n    let routeQuery = query.get(\"search\");\n    if (routeQuery !== null && routeQuery.length > 0) return setQueryVal(routeQuery); // eslint-disable-next-line\n  }, []);\n  useEffect(() => {\n    (async function loadContent() {\n      await fetchCourses();\n    })(); // eslint-disable-next-line\n\n  }, []);\n  useEffect(() => {\n    FilterAll(); // eslint-disable-next-line\n  }, [match, courses, search]);\n\n  const FilterAll = async () => {\n    let catId = parseInt(match.params.id);\n\n    if (catId > 0) {\n      courses.length > 0 && setFilterAllCourses(courses.filter(course => {\n        return parseInt(course.category_id) === catId;\n      }));\n    } else {\n      let searchVal;\n\n      if (queryVal.length > 0) {\n        searchVal = queryVal;\n        setQueryVal(\"\");\n      } else {\n        searchVal = search;\n      }\n\n      setFilterAllCourses(courses.length > 0 && courses.filter(course => {\n        return course.course_name.toLowerCase().includes(searchVal.toLowerCase());\n      }));\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"main-wrapper course-page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(HeaderTwo, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(PageTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Styles, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    className: \"course-grid-area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: \"3\",\n    md: \"4\",\n    sm: \"5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(CourseSidebar, {\n    setFilterAllCourses: setFilterAllCourses,\n    setSearch: setSearch,\n    search: search,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    lg: \"9\",\n    md: \"8\",\n    sm: \"7\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"course-items\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 19\n    }\n  }, courseLoading ? /*#__PURE__*/React.createElement(Loader, {\n    width: \"70\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 23\n    }\n  }) : courses.length > 0 ? /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(CourseItemGrid, {\n    courses: courses,\n    allCourses: filterAllCourses,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 25\n    }\n  })) : /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 25\n    }\n  }, \"No courses yet\"))))))))), /*#__PURE__*/React.createElement(FooterTwo, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }\n  }));\n}; // export default CourseGrid;\n\n\nCourseGrid.propTypes = {\n  course: PropTypes.object.isRequired,\n  fetchCourses: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  course: state.course\n});\n\nexport default connect(mapStateToProps, {\n  fetchCourses\n})(CourseGrid);","map":{"version":3,"names":["React","useEffect","useState","Fragment","Container","Row","Col","HeaderTwo","PageTitle","CourseSidebar","CourseItemGrid","FooterTwo","Styles","PropTypes","connect","fetchCourses","Loader","useQuery","CourseGrid","course","courses","courseLoading","match","search","setSearch","filterAllCourses","setFilterAllCourses","queryVal","setQueryVal","query","routeQuery","get","length","loadContent","FilterAll","catId","parseInt","params","id","filter","category_id","searchVal","course_name","toLowerCase","includes","propTypes","object","isRequired","func","mapStateToProps","state"],"sources":["C:/Users/Obiajulu/Desktop/GAB/REACT-WITH-ME/enrollments/src/enterprise-app/core/views/pages/guests/courses/CourseGrid.js"],"sourcesContent":["import React, { useEffect, useState, Fragment } from \"react\";\r\nimport { Container, Row, Col } from \"react-bootstrap\";\r\nimport HeaderTwo from \"../../../components/Header\";\r\nimport { PageTitle } from \"../../../components/common/PageTitle\";\r\nimport CourseSidebar from \"./components/CourseSidebar\";\r\nimport CourseItemGrid from \"./components/CourseItemsGrid\";\r\nimport FooterTwo from \"../../../components/Footer\";\r\nimport { Styles } from \"./styles/course.js\";\r\n\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { fetchCourses } from \"../../../../redux/actions/coursesActions\";\r\n\r\nimport Loader from \"../../../components/Loader/Loader\";\r\nimport { useQuery } from \"../../../../helpers/hooks/useQuery.js\";\r\n\r\n/*\r\n*@companyName: EMS\r\n*@Location : Lagos Nigeria\r\n*@Author/Developer : juwa victor/saladinjake\r\n*@AuthorsEmail : juwavictor@gmail.com\r\n*@description: course display in grids\r\n\r\n*/\r\n\r\nconst CourseGrid = ({\r\n  course: { courses, courseLoading },\r\n  fetchCourses,\r\n  match,\r\n}) => {\r\n  const [search, setSearch] = useState(\"\");\r\n  const [filterAllCourses, setFilterAllCourses] = useState([]);\r\n  const [queryVal, setQueryVal] = useState(\"\");\r\n  const query = useQuery();\r\n\r\n  useEffect(() => {\r\n    let routeQuery = query.get(\"search\");\r\n    if (routeQuery !== null && routeQuery.length > 0)\r\n      return setQueryVal(routeQuery);\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    (async function loadContent() {\r\n      await fetchCourses();\r\n    })();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    FilterAll();\r\n    // eslint-disable-next-line\r\n  }, [match, courses, search]);\r\n\r\n  const FilterAll = async () => {\r\n    let catId = parseInt(match.params.id);\r\n\r\n    if (catId > 0) {\r\n      courses.length > 0 &&\r\n        setFilterAllCourses(\r\n          courses.filter((course) => {\r\n            return parseInt(course.category_id) === catId;\r\n          })\r\n        );\r\n    } else {\r\n      let searchVal;\r\n      if (queryVal.length > 0) {\r\n        searchVal = queryVal;\r\n        setQueryVal(\"\");\r\n      } else {\r\n        searchVal = search;\r\n      }\r\n      setFilterAllCourses(\r\n        courses.length > 0 &&\r\n          courses.filter((course) => {\r\n            return course.course_name\r\n              .toLowerCase()\r\n              .includes(searchVal.toLowerCase());\r\n          })\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"main-wrapper course-page\">\r\n      {/* Header 2 */}\r\n      <HeaderTwo />\r\n      <PageTitle />\r\n\r\n      <Styles>\r\n        {/* Course Grid */}\r\n        <section className=\"course-grid-area\">\r\n          <Container>\r\n            <Row>\r\n              <Col lg=\"3\" md=\"4\" sm=\"5\">\r\n                <CourseSidebar\r\n                  setFilterAllCourses={setFilterAllCourses}\r\n                  setSearch={setSearch}\r\n                  search={search}\r\n                />\r\n              </Col>\r\n              <Col lg=\"9\" md=\"8\" sm=\"7\">\r\n                <div className=\"course-items\">\r\n                  <Row>\r\n                    {courseLoading ? (\r\n                      <Loader width=\"70\" />\r\n                    ) : courses.length > 0 ? (\r\n                      <Fragment>\r\n                        <CourseItemGrid\r\n                          courses={courses}\r\n                          allCourses={filterAllCourses}\r\n                        />\r\n                      </Fragment>\r\n                    ) : (\r\n                      <Row>\r\n                        <h1>No courses yet</h1>\r\n                      </Row>\r\n                    )}\r\n                  </Row>\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n          </Container>\r\n        </section>\r\n      </Styles>\r\n\r\n      {/* Footer 2 */}\r\n      <FooterTwo />\r\n    </div>\r\n  );\r\n};\r\n\r\n// export default CourseGrid;\r\nCourseGrid.propTypes = {\r\n  course: PropTypes.object.isRequired,\r\n  fetchCourses: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  course: state.course,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n  fetchCourses,\r\n})(CourseGrid);\r\n"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,QAArC,QAAqD,OAArD;AACA,SAASC,SAAT,EAAoBC,GAApB,EAAyBC,GAAzB,QAAoC,iBAApC;AACA,OAAOC,SAAP,MAAsB,4BAAtB;AACA,SAASC,SAAT,QAA0B,sCAA1B;AACA,OAAOC,aAAP,MAA0B,4BAA1B;AACA,OAAOC,cAAP,MAA2B,8BAA3B;AACA,OAAOC,SAAP,MAAsB,4BAAtB;AACA,SAASC,MAAT,QAAuB,oBAAvB;AAEA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,YAAT,QAA6B,0CAA7B;AAEA,OAAOC,MAAP,MAAmB,mCAAnB;AACA,SAASC,QAAT,QAAyB,uCAAzB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMC,UAAU,GAAG,QAIb;EAAA,IAJc;IAClBC,MAAM,EAAE;MAAEC,OAAF;MAAWC;IAAX,CADU;IAElBN,YAFkB;IAGlBO;EAHkB,CAId;EACJ,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBtB,QAAQ,CAAC,EAAD,CAApC;EACA,MAAM,CAACuB,gBAAD,EAAmBC,mBAAnB,IAA0CxB,QAAQ,CAAC,EAAD,CAAxD;EACA,MAAM,CAACyB,QAAD,EAAWC,WAAX,IAA0B1B,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM2B,KAAK,GAAGZ,QAAQ,EAAtB;EAEAhB,SAAS,CAAC,MAAM;IACd,IAAI6B,UAAU,GAAGD,KAAK,CAACE,GAAN,CAAU,QAAV,CAAjB;IACA,IAAID,UAAU,KAAK,IAAf,IAAuBA,UAAU,CAACE,MAAX,GAAoB,CAA/C,EACE,OAAOJ,WAAW,CAACE,UAAD,CAAlB,CAHY,CAId;EACD,CALQ,EAKN,EALM,CAAT;EAOA7B,SAAS,CAAC,MAAM;IACd,CAAC,eAAegC,WAAf,GAA6B;MAC5B,MAAMlB,YAAY,EAAlB;IACD,CAFD,IADc,CAId;;EACD,CALQ,EAKN,EALM,CAAT;EAOAd,SAAS,CAAC,MAAM;IACdiC,SAAS,GADK,CAEd;EACD,CAHQ,EAGN,CAACZ,KAAD,EAAQF,OAAR,EAAiBG,MAAjB,CAHM,CAAT;;EAKA,MAAMW,SAAS,GAAG,YAAY;IAC5B,IAAIC,KAAK,GAAGC,QAAQ,CAACd,KAAK,CAACe,MAAN,CAAaC,EAAd,CAApB;;IAEA,IAAIH,KAAK,GAAG,CAAZ,EAAe;MACbf,OAAO,CAACY,MAAR,GAAiB,CAAjB,IACEN,mBAAmB,CACjBN,OAAO,CAACmB,MAAR,CAAgBpB,MAAD,IAAY;QACzB,OAAOiB,QAAQ,CAACjB,MAAM,CAACqB,WAAR,CAAR,KAAiCL,KAAxC;MACD,CAFD,CADiB,CADrB;IAMD,CAPD,MAOO;MACL,IAAIM,SAAJ;;MACA,IAAId,QAAQ,CAACK,MAAT,GAAkB,CAAtB,EAAyB;QACvBS,SAAS,GAAGd,QAAZ;QACAC,WAAW,CAAC,EAAD,CAAX;MACD,CAHD,MAGO;QACLa,SAAS,GAAGlB,MAAZ;MACD;;MACDG,mBAAmB,CACjBN,OAAO,CAACY,MAAR,GAAiB,CAAjB,IACEZ,OAAO,CAACmB,MAAR,CAAgBpB,MAAD,IAAY;QACzB,OAAOA,MAAM,CAACuB,WAAP,CACJC,WADI,GAEJC,QAFI,CAEKH,SAAS,CAACE,WAAV,EAFL,CAAP;MAGD,CAJD,CAFe,CAAnB;IAQD;EACF,CA3BD;;EA6BA,oBACE;IAAK,SAAS,EAAC,0BAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAEE,oBAAC,SAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAFF,eAGE,oBAAC,SAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAHF,eAKE,oBAAC,MAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAEE;IAAS,SAAS,EAAC,kBAAnB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,SAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,GAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,GAAD;IAAK,EAAE,EAAC,GAAR;IAAY,EAAE,EAAC,GAAf;IAAmB,EAAE,EAAC,GAAtB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,aAAD;IACE,mBAAmB,EAAEjB,mBADvB;IAEE,SAAS,EAAEF,SAFb;IAGE,MAAM,EAAED,MAHV;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADF,CADF,eAQE,oBAAC,GAAD;IAAK,EAAE,EAAC,GAAR;IAAY,EAAE,EAAC,GAAf;IAAmB,EAAE,EAAC,GAAtB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAK,SAAS,EAAC,cAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,GAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACGF,aAAa,gBACZ,oBAAC,MAAD;IAAQ,KAAK,EAAC,IAAd;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADY,GAEVD,OAAO,CAACY,MAAR,GAAiB,CAAjB,gBACF,oBAAC,QAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,cAAD;IACE,OAAO,EAAEZ,OADX;IAEE,UAAU,EAAEK,gBAFd;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADF,CADE,gBAQF,oBAAC,GAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,oBADF,CAXJ,CADF,CADF,CARF,CADF,CADF,CAFF,CALF,eA2CE,oBAAC,SAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EA3CF,CADF;AA+CD,CAzGD,C,CA2GA;;;AACAP,UAAU,CAAC2B,SAAX,GAAuB;EACrB1B,MAAM,EAAEN,SAAS,CAACiC,MAAV,CAAiBC,UADJ;EAErBhC,YAAY,EAAEF,SAAS,CAACmC,IAAV,CAAeD;AAFR,CAAvB;;AAKA,MAAME,eAAe,GAAIC,KAAD,KAAY;EAClC/B,MAAM,EAAE+B,KAAK,CAAC/B;AADoB,CAAZ,CAAxB;;AAIA,eAAeL,OAAO,CAACmC,eAAD,EAAkB;EACtClC;AADsC,CAAlB,CAAP,CAEZG,UAFY,CAAf"},"metadata":{},"sourceType":"module"}